$(function(){var i=[],n=[],a=[],l={8:"8:00AM",8.5:"8:30AM",9:"9:00AM",9.5:"9:30AM",10:"10:00AM",10.5:"10:30AM",11:"11:00AM",11.5:"11:30AM",12:"12:00PM",12.5:"12:30PM",13:"1:00PM",13.5:"1:30PM",14:"2:00PM",14.5:"2:30PM",15:"3:00PM",15.5:"3:30PM",16:"4:00PM",16.5:"4:30PM",17:"5:00PM",17.5:"5:30PM",18:"6:00PM",18.5:"6:30PM",19:"7:00PM",19.5:"7:30PM",20:"8:00PM"},r=$("#DotW").val(),t=$("#time").val();$("#submit").on("click",function(l){l.preventDefault(),$.getJSON("/data",function(l){Object.keys(l).map(function(n){for(var a in l[n]){for(var o=l[n][a][r][t],e=l[n][a].size,M=19.5-t,p=0;M>=p;p+=.5){var s=parseFloat(t)+parseFloat(p),u=s.toString();if(1===l[n][a][r][u]){console.log("hi");var $=s;p=M+1}else if(p===M)var $="20"}0===o&&i.push([n,a,e,$])}});for(var o=i.length,e=0;o>e;e++)n.push(i[e][0]);$.each(n,function(i,n){-1===$.inArray(n,a)&&a.push(n)});for(var M=a.length,e=0;M>e;e++){var p=a[e];$("#buildings").append("<li id='"+p+"' class='building'>"+p+"</li>")}$(".inputWrap").hide(),$(".titleWrap").hide(),$(".buildingsWrap").show()})}),$("#buildings").on("click",".building",function(){var n=$(this).attr("id"),a=[];i.map(function(i){i[0]===n&&a.push(i)}),a.map(function(i){var n=i[3],a=l[n];$("#room").append("<li>"+i[1]+"</li>"),$("#size").append("<li>"+i[2]+"</li>"),$("#until").append("<li>"+a+"</li>")}),$(".buildingsWrap").hide(),$(".roomsWrap").show()})});